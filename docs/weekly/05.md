---
title: æ˜è¿œå‘¨åˆŠï¼šcolors.js ä¸ faker.js é­å¼€æºä½œè€…æ•…æ„ç ´å
date: 2022-01-16 00:27:29
tags: å‘¨åˆŠ
---

![WX20220116-001152@2x](https://raw.githubusercontent.com/acmu/pictures/master/uPic/2022-01/16_00:12_fFiVsV.png)

## æ€è€ƒæ—¶åˆ»

å†™æ–‡ç« æ—¶ï¼ŒæŠŠæœ€ç²¾å½©çš„éƒ¨åˆ†å†™åœ¨å‰é¢ï¼Œå› ä¸ºäººçš„ç²¾åŠ›æ˜¯æœ‰é™çš„ï¼Œéœ€è¦å…ˆæŠŠæœ€å¥½çš„å†…å®¹å‘ˆç°å‡ºæ¥ï¼Œæ‰èƒ½å‹¾èµ·ç»§ç»­çœ‹ä¸‹å»çš„æ¬²æœ›ï¼Œå°±åƒæŠ–éŸ³çš„è§†é¢‘ä¸€æ ·ï¼Œå‰å‡ ç§’å±•ç¤ºè§†é¢‘æœ€ç²¾å½©éƒ¨åˆ†çš„ç‚¹èµä¸€èˆ¬éƒ½ä¼šå¤šäº›

é€šè¿‡ effie äº†è§£åˆ° [LXGW WenKai / éœé¹œæ–‡æ¥·](https://github.com/lxgw/LxgwWenKai) è¿™ä¸ªä¸­æ–‡å­—ä½“ï¼Œå¾ˆæ¼‚äº®ï¼Œæ¨è ğŸ‘

![LXGW WenKai / éœé¹œæ–‡æ¥·](https://raw.githubusercontent.com/acmu/pictures/master/uPic/2022-01/12_13:49_cLoMD2.png)

[ã€TED æ¼”è®²ã€‘æƒ³å­¦ä¼šä¸€ä¸ªè¯­è¨€ï¼Ÿå°±åƒç©ç”µå­æ¸¸æˆèˆ¬åœ°å»è¯´å‡ºæ¥](https://www.youtube.com/watch?v=mwpdffpixBY&list=LL&index=102) ï¼ˆä½¿ç”¨æœ‰è¶£çš„æ•…äº‹å‹¾èµ·ç»§ç»­çœ‹ä¸‹å»çš„æ¬²æœ›ï¼Œæ¼”è®²çœŸçš„æ˜¯ä¸€é—¨å­¦é—®ï¼‰

1. ç°åœ¨çš„è‹±è¯­æ˜¯ä¸€ç§ä¸ºäº†èƒ½å¾—åˆ°ç»“æœçš„å·¥å…·ï¼Œåœ¨è‹±è¯­å¯¹è¯ä¸­ï¼Œåªæœ‰ 4%æ˜¯è‹±è¯­æ¯è¯­è€…ä¸è‹±è¯­æ¯è¯­è€…å¯¹è¯çš„
2. ä½ åœ¨è¯´è‹±è¯­æ—¶ï¼Œä¸åº”è¯¥å»è¯„åˆ¤è‡ªå·±çš„å¯¹é”™æˆ–å¥½åï¼Œè€Œåº”è¯¥å…³æ³¨äºæ˜¯å¦èƒ½è¾¾æˆè®©å¯¹æ–¹ç†è§£ä½ ç»™ä»–çš„ç»“æœ

ç°åœ¨çš„ AI å·²ç»å¾ˆå‰å®³äº†ï¼Œåœ¨ç¿»è¯‘ã€è¯­éŸ³è¯†åˆ«ã€å›¾åƒè¯†åˆ«ä¸Šå·²ç»æœ‰å¾ˆå¤šåº”ç”¨äº†ï¼Œå¯ä»¥äº†è§£ä¸‹ç®€å•çš„åŸºæœ¬åŸç†

## ç²¾å½©çœ‹ç‚¹

1. colors.js ä¸ faker.js é­å¼€æºä½œè€…æ•…æ„ç ´å
2. node util æ¨¡å—å¥½ç”¨çš„å·¥å…·å‡½æ•°
3. null å’Œ undefined åŒºåˆ«

## é˜…è¯»æ–‡ç« 

### [ä¸‹è½½é‡å’Œ Vue ä¸€æ ·å¤§çš„å¼€æºè½¯ä»¶è¢«ä½œè€…æ¶æ„ç ´åï¼Œæ•°åƒæ¬¾åº”ç”¨å—åˆ°ç‰µè¿](https://mp.weixin.qq.com/s/TDh4BPeYTITjJIZ4KH-4Jw)

#### å†…å®¹

colors.js ä¸ faker.js é­å¼€æºä½œè€…æ•…æ„ç ´åï¼Œä»–è®¤ä¸ºï¼šä¸ä¼šå†â€œæ— å¿å·¥ä½œâ€æ¥æ”¯æŒé‚£äº›å•†ä¸šå·¨å¤´ï¼Œè¦ä¹ˆé€‰æ‹©é¡¹ç›®åˆ†å‰ï¼Œè¦ä¹ˆä»¥æ¯å¹´â€œå…­ä½æ•°â€çš„è–ªé…¬è¡¥å¿å¼€æºå¼€å‘äººå‘˜ã€‚

[faker.js](https://github.com/marak/Faker.js/) çš„ README ä¹Ÿæ”¹ä¸ºâ€œAaron Swartz åˆ°åº•ç»å†äº†ä»€ä¹ˆï¼Ÿâ€çš„å­—æ ·ã€‚

> Swartz æ˜¯ä¸€ä½æ°å‡ºçš„å¼€å‘äººå‘˜ï¼Œä»–å¸®åŠ©å»ºç«‹äº† Creative Commonsã€RSS å’Œ Redditã€‚ä»–çš„è´¡çŒ®å¯¹å‡ ä¹æ‰€æœ‰çš„ Web å¼€å‘äººå‘˜éƒ½äº§ç”Ÿäº†æ·±è¿œçš„å½±å“ã€‚2013 å¹´ï¼Œå¹´ä»… 26 å²çš„ Swartz åœ¨ä¸€åœºæ³•å¾‹çº çº·ä¸­è‡ªæ€èº«äº¡ã€‚
>
> ä¸ºäº†è®©æ‰€æœ‰äººéƒ½èƒ½å…è´¹è®¿é—®ä¿¡æ¯ï¼Œè¿™ä½é»‘å®¢ä¸»ä¹‰è€…ä»éº»çœç†å·¥å­¦é™¢çš„æ ¡å›­ç½‘ç»œ JSTOR æ•°æ®åº“ä¸­ä¸‹è½½åˆ°æ•°ç™¾ä¸‡ç¯‡æœŸåˆŠæ–‡ç« ã€‚æ®ç§°ï¼Œä»–é‡‡ç”¨çš„æ–¹æ³•æ˜¯åå¤è½®æ¢è‡ªå·±çš„ IP ä¸ MAC åœ°å€ä»¥ç»•è¿‡æ ¡æ–¹å’Œ JSTOR è®¾ç½®çš„æŠ€æœ¯å±è”½æ–¹æ¡ˆã€‚ä½†æ­¤ç•ªä¸¾åŠ¨ä¹Ÿå¯¼è‡´ Swartz é¢å¯¹è¿åã€Šè®¡ç®—æœºæ¬ºè¯ˆä¸æ»¥ç”¨æ³•ã€‹çš„æŒ‡æ§ï¼Œä¸€æ—¦ç½ªåæˆç«‹ï¼Œä»–æœ€é«˜å¯èƒ½è¢«åˆ¤å¤„ 35 å¹´ç›‘ç¦ã€‚

å¼€æºä½œè€…çš„ GitHub è´¦å·ä¹Ÿè¢«åœæ­¢ä½¿ç”¨ï¼ˆGitHub ä¹Ÿæœ‰å¯èƒ½ç¦ç”¨ä½ çš„è´¦å·ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯è‡ªå·±å¤‡ä»½ä¸‹å§ï¼‰

> Marak çš„æ­¤æ¬¡è¿‡æ¿€è¡Œä¸ºå‘ç”Ÿåœ¨ä¸ä¹…å‰å½±å“å·¨å¤§çš„ Log4j æ¼æ´äº‹ä»¶ä¹‹åã€‚ä½œä¸ºä¸€å¥—é‡é‡çº§å¼€æºåº“ï¼ŒLog4j åœ¨ä¸åŒä¼ä¸šåŠå•†ä¸šå®ä½“å¼€å‘çš„å„ç±» Java åº”ç”¨ç¨‹åºå½“ä¸­éƒ½æœ‰å¹¿æ³›ä½¿ç”¨ã€‚è€Œ Log4shell æ¼æ´çš„æ›å…‰å¼•å‘è¶Šæ¥è¶Šå¤š CVEï¼Œä¸å°‘å¼€æºç»´æŠ¤è€…ä¸å¾—ä¸åœ¨ä¼‘å‡æœŸé—´æ— å¿å¸®åŠ©ä¿®å¤è¿™äº›å…è´¹é¡¹ç›®ã€‚

#### æ€è€ƒ

å¯¹é…¬åŠ³çš„æŠ±æ€¨å¯ä»¥ç†è§£ï¼Œä½†æ•…æ„ç ´åçš„è¡Œä¸ºç¡®å®è¿‡æ¿€ï¼ˆæˆ‘ä¸€ç›´ä»¥ä¸ºï¼Œèƒ½å†™å‡ºè¿™æ ·åº“çš„å¼€æºä½œè€…éƒ½ä¸ä¼šä¸ºé’±å‘æ„å‘¢ ğŸ˜ï¼‰

![ä¸‹è½½é‡å¯¹æ¯”](https://raw.githubusercontent.com/acmu/pictures/master/uPic/2022-01/11_13:22_0ge7B2.png)

### [Node.js å†…ç½®çš„ util æ¨¡å—ç©¶ç«Ÿæœ‰å¤šå¥½ç”¨ï¼Ÿ](https://mp.weixin.qq.com/s/WRyN9d9G1apllyLddFXJWQ)

#### å†…å®¹

JS è‡ªå¸¦çš„ç±»å‹åˆ¤æ–­ä»¤äººå¤´ç–¼ï¼Œ`util/types` å¯ä»¥å¸®ä½ åˆ¤æ–­ç±»å‹

```js
const types = require('util/types');

types.isDate(new Date()); // true
types.isPromise(new Promise(() => {})); // true
types.isArrayBuffer(new ArrayBuffer(16)); // true
```

æ·±æ¯”è¾ƒæ˜¯å¦å®Œå…¨ç›¸ç­‰ `isDeepStrictEqual`

```js
const util = require('util');

const val1 = { name: 'shenfq', x: 1 };
const val2 = { x: 1, name: 'shenfq' };

console.log('val1 === val2', val1 === val2); // false
console.log('isDeepStrictEqual', util.isDeepStrictEqual(val1, val2)); // true
```

æ—©æœŸçš„ Node API éƒ½æ˜¯ Error First é£æ ¼çš„ï¼Œç°åœ¨å¤§å¤šæ˜¯åŸºäº promise ç¼–ç¨‹ï¼Œé‚£ä¹ˆå¦‚ä½•å°† Error First é£æ ¼çš„ API è½¬ä¸º Promise APIï¼Ÿ

ä½¿ç”¨ `promisify`

```js
const fs = require('fs');
const util = require('util');

const readFile = util.promisify(fs.readFile);
readFile('./a.ts', { encoding: 'utf-8' })
    .then(text => console.log(text))
    .catch(error => console.error(error));
```

é¡ºä¾¿è¯´ä¸€å¥ï¼š`callbackify` å¯ä»¥å°† Promise é£æ ¼è½¬ä¸º Error First é£æ ¼

Node 10 ç‰ˆæœ¬å¼•å…¥äº† `promises` å±æ€§ï¼Œä½¿ç”¨èµ·æ¥æ›´ç®€ä¾¿

```js
const fs = require('fs').promises;
fs.readFile('./a.ts', { encoding: 'utf-8' })
    .then(text => console.log(text))
    .catch(error => console.error(error));
```

`util.debug` èƒ½å®ç°ç±»ä¼¼ `debug` åŒ…çš„æ•ˆæœï¼Œè¾“å‡ºä¿¡æ¯ä¾¿äºè°ƒè¯•

`util.format` å¯ä»¥æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²

`util.inspect` å¯ä»¥æ§åˆ¶è¾“å‡ºçš„å¯¹è±¡

#### æ€è€ƒ

Error First é£æ ¼è½¬æ¢ Promise é£æ ¼å¾ˆæœ‰ç”¨ï¼Œæ–¹ä¾¿äº† async æ¨¡å¼å¼€å‘ï¼ˆåœ¨çŸ¥é“ `promisify` ä¹‹å‰ï¼Œæˆ‘ä¹Ÿæƒ³å†™ä¸€ä¸ªè‡ªå·±çš„ `promisify` æ¥ç€ï¼Œä½†åæ¥æ„Ÿè§‰å¤ªéš¾å°±æ”¾å¼ƒäº† ğŸ˜‚ï¼Œå¯ä»¥äº†è§£ä¸‹æºç æ˜¯å¦‚ä½•å®ç°çš„ï¼‰

èƒ½å¦æŠŠè¿™ä¸ª util å¼„åˆ°æµè§ˆå™¨ä¸Šå‘¢ï¼Ÿ

### [æ·±å…¥æ¢ç©¶ï¼šnull å’Œ undefined ç©¶ç«Ÿæœ‰ä½•åŒºåˆ«ï¼Ÿ](https://juejin.cn/post/7051144396615450655)

#### å†…å®¹

`undefined`ï¼šè¿™ä¸ªå˜é‡æœªå®šä¹‰ï¼Œ`null`ï¼šå˜é‡å®šä¹‰äº†ï¼Œä½†è¡¨ç¤ºçš„å€¼ä¸ºç©ºï¼ˆä¸€èˆ¬è¡¨ç¤ºå¯¹è±¡çš„åˆå§‹å€¼ï¼Œç±»ä¼¼å­—ç¬¦ä¸²çš„åˆå§‹å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼‰

ä¹‹åæ¼”ç¤ºäº†å‡ ç§ä¸åŒçš„å±•ç°å½¢å¼ï¼Œå¹¶è§£é‡Šå…¶åŸå› 

```js
typeof null; // 'object' å› ä¸ºå†å²åŸå› 
typeof undefined; // 'undefined'

Object.prototype.toString.call(null); // '[object Null]'
// Object.prototype.toString() æ˜¯ Object çš„åŸå‹æ–¹æ³•
// è°ƒç”¨è¯¥æ–¹æ³•ï¼Œé»˜è®¤è¿”å›å½“å‰å¯¹è±¡çš„å†…éƒ¨å±æ€§ [[Class]]ï¼Œå…¶æ ¼å¼ä¸º [object Xxx] ï¼Œå…¶ä¸­ Xxx å°±æ˜¯å¯¹è±¡çš„ç±»å‹ã€‚
Object.prototype.toString.call(undefined); // '[object Undefined]'

null == undefined; // true
// å¹¶ä¸æ˜¯å› ä¸ºä¼šéšå¼è½¬æ¢ï¼Œè€Œæ˜¯å› ä¸ºECMA åœ¨ 11.9.3 ç« èŠ‚ä¸­è¡¨æ˜äº†ï¼š
// If x is null and y is undefined, return true.
// If x is undefined and y is null, return true.

let a = undefined + 1; // NaN
let b = null + 1; // 1
Number(undefined); // NaN
Number(null); // 0

JSON.stringify({ a: undefined }); // '{}'
JSON.stringify({ b: null }); // '{b: null}'
JSON.stringify({ a: undefined, b: null }); // '{b: null}'
// JSON ä¼šå°† undefined å¯¹åº”çš„ key åˆ é™¤ï¼Œè¿™æ˜¯ JSON è‡ªèº«çš„è½¬æ¢åŸåˆ™ã€‚

function test(n) {
    let undefined = 'test';
    return n === undefined;
}
test(); // false
test(undefined); // false
test('test'); // ture
let undefined = 'test'; // Uncaught SyntaxError: Identifier 'undefined' has already been declared
// null æ˜¯å…³é”®å­—ï¼Œè€Œ undefined æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨å±€éƒ¨å˜é‡è¦†ç›–ï¼Œä½†ä¸€å®šä¸è¦è¿™æ ·åš
// å¦‚æœä½ æƒ³è¦è§‰å¾—çœŸå®çš„ undefinedï¼Œå¯ä»¥ä½¿ç”¨ void 0 è·å–ï¼Œå› ä¸º void åŠ ä»»ä½•è¡¨è¾¾å¼ï¼Œéƒ½ä¼šè¿”å› undefined
```

åˆ°åº•ä½¿ç”¨ undefined è¿˜æ˜¯ nullï¼Œå¤§å®¶éƒ½æœ‰è‡ªå·±çš„å‡†åˆ™ï¼Œä½†å›¢é˜Ÿå†…å°½é‡ä¿æŒç»Ÿä¸€

#### æ€è€ƒ

å±€éƒ¨ undefined è¿˜å¯ä»¥é‡æ–°èµ‹å€¼ï¼Œè¿™ä¸ªçœŸæ²¡æƒ³åˆ°ï¼Œæ‰€ä»¥è¿˜æ˜¯ void 0 ä¿é™©ä¸€äº›

### [é€šè¿‡ Chrome Devtools çš„ Memory å·¥å…·è¯æ˜ string çš„å†…å­˜åˆ†é…æ–¹å¼](https://mp.weixin.qq.com/s/VucSMXz8tnNf_LyrXZLHsg)

#### å†…å®¹

ç»™å‡ºä¸€ä¸ªç®€å•ä¸”æœ‰æ•ˆçš„ç¤ºä¾‹ï¼Œä½¿ç”¨ Memory ä¸­çš„ Allocation instrumentation on timeline æ¨¡å¼ï¼Œé€šè¿‡ä¸åŒæ—¶é—´ç”³è¯· string æ¥æ ¡éªŒ string çš„å†…å­˜åˆ†é…æ–¹å¼ã€‚

#### æ€è€ƒ

`"guang"@756367` at åé¢è¡¨ç¤ºçš„ä¸ºå†…å­˜åœ°å€

è™½ç„¶çœ‹è§äº†å†…å­˜åœ°å€ä½ç½®ï¼Œä½†æ€ä¹ˆè¯æ˜è¿™å—å†…å­˜åœ°å€æ˜¯ æ ˆã€å † è¿˜æ˜¯ å¸¸é‡æ±  å‘¢ï¼ŸğŸ¤”

_2022-01-07 ~ 2022-01-13ï¼ˆç¬¬ 5 æœŸï¼‰_
